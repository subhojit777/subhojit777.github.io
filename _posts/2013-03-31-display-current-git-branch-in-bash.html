---
layout: post
title: Display current Git branch in bash prompt
date: '2013-03-31T15:15:00.000+05:30'
author: Subhojit Paul
tags:
- bash
- git
modified_time: '2013-03-31T15:15:11.799+05:30'
thumbnail: http://3.bp.blogspot.com/-bKG2Uq5yD50/UVgEzZcKqaI/AAAAAAAAAf0/THWgEvlvC4o/s72-c/Selection_003.png
blogger_id: tag:blogger.com,1999:blog-6340784984471653280.post-165369004112280473
blogger_orig_url: http://subhojitpaul.blogspot.com/2013/03/display-current-git-branch-in-bash.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">While working on a project I maintain multiple branches for development. I keep at least two branches, <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">master</span> (the default one) and <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">develop</span>. I work on develop branch and when I complete certain task I merge the work with master branch and push code to the repository. That's how I work :)<br /><br />At times I forget on which branch I am working, I have to run:<br /><br /><pre class="brush: shell">git branch</pre><br />to know the current branch. I am a bit lazy and I find running the same command again and again annoying. So I thought why not display the current branch in the command prompt. I did google search and found several results. This post is the result of those multiple search results.<br /><br />Edit <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">.bashrc</span> file. Run the following command to edit <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">.bashrc</span> file<br /><br /><pre class="brush: shell">vim ~/.bashrc</pre><br />You can replace vim with your favourite editor.<br /><br />At the end of file enter the following piece of code:<br /><br /><pre class="brush: shell"># Append current git branch in prompt<br /><br />parse_git_branch() {<br /><br />&nbsp; if ! git rev-parse --git-dir &gt; /dev/null 2&gt;&amp;1; then<br /><br />&nbsp;&nbsp;&nbsp; return 0<br /><br />&nbsp; fi<br /><br /><br /><br />&nbsp; git_branch=$(git branch 2&gt;/dev/null| sed -n '/^\*/s/^\* //p')<br /><br /><br /><br />&nbsp; echo "[$git_branch]"<br /><br />}<br /><br />PS1="${debian_chroot:+($debian_chroot)}\[\033[01;36m\]\u@\h\[\033[00m\]:\[\033[01;32m\]\w\[\033[00m\]\[\033[01;31m\]\$(parse_git_branch)\[\033[00m\]$ "</pre><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-bKG2Uq5yD50/UVgEzZcKqaI/AAAAAAAAAf0/THWgEvlvC4o/s1600/Selection_003.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="My bash prompt" border="0" src="http://3.bp.blogspot.com/-bKG2Uq5yD50/UVgEzZcKqaI/AAAAAAAAAf0/THWgEvlvC4o/s1600/Selection_003.png" height="23" title="My bash prompt" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">My bash prompt</td></tr></tbody></table>Cool.. eh? :)<br /><br /><a href="http://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html" rel="nofollow" target="_blank">PS1</a> is used to change the bash command prompt.<br /><br />Inside the PS1 variable you can see I have given certain codes like 01;32, 01;31, etc. These are color codes for bash prompt. A list of colors are available <a href="http://www.arwin.net/tech/bash.php" rel="nofollow" target="_blank">here</a>.<br /><br /><b>References:</b><br /><ul style="text-align: left;"><li><a href="http://ubuntugenius.wordpress.com/2011/07/11/how-to-change-the-command-line-prompt-colour-in-the-ubuntulinux-terminal/" rel="nofollow" target="_blank">How to Change the Command-Line Prompt Colour in the Ubuntu/Linux Terminal</a></li><li><a href="http://askubuntu.com/questions/249174/prepend-current-git-branch-in-terminal" rel="nofollow" target="_blank">Prepend current git branch in terminal</a></li><li><a href="http://vvv.tobiassjosten.net/git/add-current-git-branch-to-your-bash-prompt/" rel="nofollow" target="_blank">Add current Git branch to your Bash prompt</a></li></ul></div>